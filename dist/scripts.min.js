"use strict";function _classCallCheck(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function s(s,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(i,e,o){return e&&s(i.prototype,e),o&&s(i,o),i}}(),app=angular.module("ChallengeDmApp",["ngRoute"]).config(["$routeProvider","$locationProvider",function(s,i){i.html5Mode({enabled:!0,requireBase:!1}),s.when("/",{templateUrl:"./templates/invoice/index.html",controller:"InvoiceController"}).otherwise("/")}]),InvoiceController=function(){function s(i,e){_classCallCheck(this,s),this.scope=i,this.CustomerService=e,this.loadCustomers=this.loadCustomers.bind(this),this.getCustomer=this.getCustomer.bind(this),this.loadPoints=this.loadPoints.bind(this),this.add=this.add.bind(this),this.register=this.register.bind(this),this.viewPoints=this.viewPoints.bind(this),this.showCustomerDetail=this.showCustomerDetail.bind(this),this.scope.add=this.add,this.scope.loadCustomers=this.loadCustomers,this.scope.getCustomer=this.getCustomer,this.scope.showCustomerDetail=this.showCustomerDetail,this.scope.loadPoints=this.loadPoints,this.scope.customers=this.loadCustomers(),this.scope.register=this.register,this.scope.viewPoints=this.viewPoints,this.viewPoints=this.viewPoints.bind(this),this.scope.invoice={loja:"",nNota:"",cadastro:"",data:"",valor:""},this.scope.invoices=[],this.scope.customer="",this.scope.points={total:"---",utilizados:"---",expirados:"---",saldo:"---"},this.scope.search="",this.scope.error="",this.scope.isVisible=!0,this.scope.isActiveTransactions=!0,this.scope.isActiveBenefits=!1,this.scope.isActiveHistorys=!1}return _createClass(s,[{key:"loadCustomers",value:function(){return[{codigo:1,nome:"Paulo Santos de Almeida",email:"paulo.santos@email.com",cpf:"02341233409"},{codigo:2,nome:"Antonio Marques da Silva",email:"tonhomsilva@email.com",cpf:"23456789012"},{codigo:3,nome:"João Sousa Siqueira",email:"jaosiq@email.com",cpf:"34567890123"},{codigo:4,nome:"Armando Jogada",email:"armando.player@gmail.com",cpf:"45678901234"},{codigo:5,nome:"Jordência Sexta",email:"jordanfriday@hotmail.com",cpf:"56789012345"},{codigo:6,nome:"Kelly Guissa",email:"salsich@obig.net",cpf:"67890123456"}]}},{key:"add",value:function(){this.scope.invoice.cadastro=(new Date,"yyyy-MM-dd"),this.scope.invoices.push(Object.assign({},this.scope.invoice))}},{key:"register",value:function(){console.log(this.scope.invoices)}},{key:"viewPoints",value:function(s){switch(s){case 1:this.scope.isActiveTransactions=!0,this.scope.isActiveBenefits=!1,this.scope.isActiveHistorys=!1;break;case 2:this.scope.isActiveTransactions=!1,this.scope.isActiveBenefits=!0,this.scope.isActiveHistorys=!1;break;case 3:this.scope.isActiveTransactions=!1,this.scope.isActiveBenefits=!1,this.scope.isActiveHistorys=!0}}},{key:"showCustomerDetail",value:function(s){this.scope.isVisible=!this.scope.isVisible,this.scope.isVisible?(this.scope.customer="",this.scope.points={total:"---",utilizados:"---",expirados:"---",saldo:"---"}):(this.scope.customer=this.scope.getCustomer(s),this.scope.points=this.scope.loadPoints())}},{key:"getCustomer",value:function(s){return{codigo:1,nome:"Paulo Santos de Almeida",email:"paulo.santos@email.com",cpf:"02341233409",endereco:{tipo:"Rua",logradouro:"Visconde de Souza",numero:"23",complemento:"Bloco 2, Ap 201",bairro:"Barra da Tijuca",cidade:"Rio de Janeiro",Estado:"RJ",Pais:"Brasil"},telefone:{pais:"55",area:"21",numero:"987654321"},thumb:"http://loremflickr.com/g/150/150/face",obs:"No último atendimento, o Sr. Paulo estava bastante irritado com a demora no cadastro das notas fiscais."}}},{key:"loadPoints",value:function(){var s={total:189247.73,utilizados:109e3,expirados:78e3,saldo:0};return s.saldo=s.total-s.utilizados-s.expirados,s}}]),s}();InvoiceController.$inject=["$scope","CustomerService"],app.controller("InvoiceController",InvoiceController);